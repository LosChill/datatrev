[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "datatrev",
    "section": "",
    "text": "A creative data studio.\n\n\nData Visualizations, Explorations, Reporting, Dashboards, Scripts, you name it we do it!\nNo questions asked, no judgement passed. No job too small! Se habla español."
  },
  {
    "objectID": "index.html#affordable-data-solutions",
    "href": "index.html#affordable-data-solutions",
    "title": "datatrev",
    "section": "",
    "text": "Data Visualizations, Explorations, Reporting, Dashboards, Scripts, you name it we do it!\nNo questions asked, no judgement passed. No job too small! Se habla español."
  },
  {
    "objectID": "datatrev.html",
    "href": "datatrev.html",
    "title": "datatrev",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "datatrev.html#quarto",
    "href": "datatrev.html#quarto",
    "title": "datatrev",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "tidytuesday2024/tidy20.html",
    "href": "tidytuesday2024/tidy20.html",
    "title": "20",
    "section": "",
    "text": "In my first ever #tidytuesday we are taking a look at a coffee survey. I’ll make a note up front that I am prioritizing self education over analytical integrity here. Curiosity is in the drivers seat, so we are going to see where this takes us. Anything I present here is not intended to draw any conclusions or correlations (I tried, and any statistically sound correlation just wasn’t there with this data).",
    "crumbs": [
      "Tidy Tuesday 2024",
      "20"
    ]
  },
  {
    "objectID": "tidytuesday2024/tidy20.html#overview",
    "href": "tidytuesday2024/tidy20.html#overview",
    "title": "20",
    "section": "",
    "text": "In my first ever #tidytuesday we are taking a look at a coffee survey. I’ll make a note up front that I am prioritizing self education over analytical integrity here. Curiosity is in the drivers seat, so we are going to see where this takes us. Anything I present here is not intended to draw any conclusions or correlations (I tried, and any statistically sound correlation just wasn’t there with this data).",
    "crumbs": [
      "Tidy Tuesday 2024",
      "20"
    ]
  },
  {
    "objectID": "tidytuesday2024/tidy20.html#etl-let",
    "href": "tidytuesday2024/tidy20.html#etl-let",
    "title": "20",
    "section": "ETL (LET)",
    "text": "ETL (LET)\n\nLoad Up\nNothing crazy.\n\nlibrary(tidytuesdayR)\nlibrary(tidyverse)\nlibrary(RColorBrewer)\nlibrary(ggforce)\nlibrary(knitr)\nlibrary(kableExtra)\n\n\n\nTheme Setup\nCoffee Colors?\n\nbrew_colors &lt;- brewer.pal(n = 6, name = \"YlOrBr\")\n\ncoffee_theme &lt;- theme_minimal() +\n  theme(\n    plot.title = element_text(family = \"Hot Ink\", face = \"plain\", size = 26, color = brew_colors[1], hjust = 0.5),\n    axis.title.x = element_text(family = \"Fira Sans\", face = \"italic\", size = 12, color = brew_colors[1], margin = margin(t = 20, r = 20, b = 20, l = 20, unit = \"pt\")),\n    axis.title.y = element_text(family = \"Fira Sans\", face = \"italic\", size = 12, color = brew_colors[1], margin = margin(t = 20, r = 20, b = 20, l = 20, unit = \"pt\")),\n    axis.text.x = element_text(family = \"Fira Sans\", face = \"plain\", size = 10, color = brew_colors[2], angle = 45, hjust = 1),\n    axis.text.y = element_text(family = \"Fira Sans\", face = \"plain\", size = 10, color = brew_colors[2]),\n    legend.title = element_text(family = \"Fira Sans\", face = \"bold\", size = 12, color = brew_colors[1]),\n    legend.text = element_text(family = \"Fira Sans\", face = \"plain\", size = 10, color = brew_colors[2]),\n    plot.background = element_rect(fill = \"black\", color = NA),\n    panel.background = element_rect(fill = \"black\", color = NA),\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank(),\n    plot.margin = margin(t = 35, r = 10)\n  )\n\ntheme_set(coffee_theme)\n\n\n\nExtract\nI tried the tidytuesdayR::tt_load method and kept getting an error, so we url it.\n\ncoffee_survey &lt;- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-05-14/coffee_survey.csv', show_col_types = FALSE)\n\n\n\nTransform\nNice initial cleaning. I decided straight away that my analysis would not be considering open-response answers. I organized the rest of the columns into two categories: multiple response, and factored. Here I factor the latter group. Later I’ll decide what to do with the former.\nFinally I have the pleasure of correcting the “spend” column typo. People need to stop using “spend” as a noun. It is a verb. The noun is “expenditure”.\n\n# Trim out free-text data, fix \"spend\" typo \n# \"spend\" is not a noun, stop trying to make it one\nclean_tib &lt;- coffee_survey %&gt;%\n  select(-matches(\"other|specify|coffee_a|coffee_b|coffee_c|coffee_d|prefer\")) %&gt;%\n  rename(monthly_expenditure = total_spend) %&gt;%\n  mutate(across(everything(), ~ if(is.character(.)) tolower(.) else .)) %&gt;%\n  mutate(across(c(age, cups, favorite, style, strength, roast_level, caffeine,\n                  expertise, wfh, monthly_expenditure, taste, know_source,\n                  most_paid, most_willing, value_cafe, spent_equipment,\n                  value_equipment, gender, education_level, ethnicity_race,\n                  employment_status, number_children, political_affiliation\n                  ), as.factor\n                )\n         )",
    "crumbs": [
      "Tidy Tuesday 2024",
      "20"
    ]
  },
  {
    "objectID": "tidytuesday2024/tidy20.html#eda",
    "href": "tidytuesday2024/tidy20.html#eda",
    "title": "20",
    "section": "EDA",
    "text": "EDA\nI saw the multiple-response columns and decided to try to learn more about the best ways to handle these. I could make each cell a vector, turning the column into a list of character vectors, or I could try one-hot encoding. I brought in the caret library and played around with dummy variables enough to get a basic transformation of all the multiple-response columns into multiple single Boolean columns for each response.\nThis was messy and I didn’t love my function but it was enough to try some Chi Square/Cramérs V analysis comparing every column pair for possible correlation. I would love to have found ANY surprise coffee trend that correlated to personal data (like maybe all the cinnamon takers are all unemployed), but the highest Cramérs V value was .5 and nothing compelling. So I gave up before I started showing more bias than I had already in wanting to find something.\nI may clean that code up and include it later.\n\nStrip Columns\nBut for now I stripped out all of those multiple-response columns. This allowed me to drop all NA cells. These columns were the questions that many people seem to have just skipped, so stripping them saved more observations.\n\n# List of columns with multi-value cells\nhot_columns &lt;- c(\"where_drink\",\n                 \"brew\",\n                 \"purchase\",\n                 \"additions\",\n                 \"dairy\",\n                 \"sweetener\",\n                 \"why_drink\"\n                 )\n\n# Drop multi-value columns before dropping NA cells\nstrip_tib &lt;- clean_tib %&gt;%\n  select(-all_of(hot_columns)) %&gt;%\n  drop_na()\n\n\n\nFirst Plot\nI wanted to plot some kind of two-variable comparison anyway so I chose Age vs Cups per day, just to have a look.\n\n# Ordinal ordering\nage_levels = c(\"&lt;18 years old\", \"18-24 years old\", \"25-34 years old\",\n               \"35-44 years old\", \"45-54 years old\", \"55-64 years old\",\n               \"&gt;65 years old\")\ncups_levels = c(\"less than 1\", \"1\", \"2\", \"3\", \"4\", \"more than 4\")\n\nageVcups &lt;- strip_tib %&gt;% \n  select(age, cups) %&gt;% \n  mutate(\n    age = factor(age, levels = age_levels, ordered = TRUE),\n    cups = factor(cups, levels = cups_levels, ordered = TRUE)\n  )\n\nggplot(ageVcups, aes(x = age, fill = cups)) +\n  geom_bar(\n    position = \"fill\"\n    ) +\n  labs(\n    title = \"Cups of Coffee per Day by Age Group\",\n    x = \"Age Group\",\n    y = \"Percentage\",\n    fill = \"Number of Cups\"\n    ) +\n  scale_fill_brewer(\n    palette = \"YlOrBr\"\n    ) +\n  scale_y_continuous(\n    labels = ~ paste0(. * 100, \"%\")\n    ) +\n  theme(\n    legend.position = \"right\",\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\nNo considerable surprise that older age groups tend to show a greater proportion of higher cups-per-day.\n\n\nFinding Our Target\nWhat interested me is the self-reported coffee expertise. These questions are such a labyrinth of psychology I don’t know what analysts really use them for other than profiling over confidence maybe? I thought Dunning-Kruger did away with the presumed value of self-assessed expertise.\nWhat other question might be fun to compare to this self-expertise?\n“Do you know the source of your coffee”\nLets take a look. A jitter-box plot will show this nicely.\n\nexpertiseVknowsource_tib &lt;- strip_tib %&gt;%\n  select(expertise, know_source) %&gt;% \n    mutate(know_source = case_when(\n      tolower(know_source) == \"yes\" ~ \"Yes\",\n      tolower(know_source) == \"no\" ~ \"No\",\n      TRUE ~ know_source))\n\nevk_lite &lt;- expertiseVknowsource_tib %&gt;% \n  filter(!(know_source == \"No\" & expertise == 10))\n\nevk_hilite &lt;- expertiseVknowsource_tib %&gt;% \n  filter(know_source == \"No\" & expertise == 10)\n\np &lt;- ggplot(evk_lite, aes(\n    x = know_source, \n    y = as.numeric(expertise))\n  ) +\n  geom_boxplot(\n    data = expertiseVknowsource_tib,\n    outlier.shape = NA, \n    fill = \"brown\", \n    color = \"white\", \n    alpha = 0.25\n  ) +\n  geom_point(\n    data = evk_lite,\n    position = position_jitter(seed = 119, width = 0.12, height = 0.69),\n    color = \"tan\",\n    alpha = 0.25\n  ) +\n  geom_point(\n    data = evk_hilite,\n    position = position_jitter(seed = 119, width = 0.1, height = 0.69),\n    color = \"tan\",\n    alpha = 0.25\n  ) +\n  scale_y_continuous(\n    breaks = seq(0, 10, by = 1)\n  ) +\n  labs(\n    title = \"Do Coffee Experts Know Their Sources?\",\n    x = \"Do You Know Where Your Coffee Comes From?\",\n    y = \"Claimed Level of Coffee Expertise\"\n  ) +\n  theme(\n    legend.position = \"none\"\n  )\n\np",
    "crumbs": [
      "Tidy Tuesday 2024",
      "20"
    ]
  },
  {
    "objectID": "tidytuesday2024/tidy20.html#results",
    "href": "tidytuesday2024/tidy20.html#results",
    "title": "20",
    "section": "Results",
    "text": "Results\nNot too suprising. The more you claim to know about coffee the more likely you are to also claim to know where your coffee comes from.\nBut who are those four coffee geniuses who don’t care where their coffee comes from?\n\nhilite &lt;- expertiseVknowsource_tib %&gt;% \n  filter(know_source == \"No\" & expertise == 10)\n\n# set.seed(357)\n# jitter &lt;- position_jitter(width = 0.25, height = 0.5)\n\np_hilite &lt;- p +\n  geom_point(data = hilite, aes(\n    x = know_source, \n    y = as.numeric(expertise)),\n    position = position_jitter(seed = 119, width = 0.1, height = 0.69), \n    color = \"brown\",\n    alpha = .88\n    ) +\n  annotate(\n    \"text\",\n    x = .75,\n    y = 10,\n    label = \"EXPERTS\",\n    size = 2.5,\n    #fontface = \"italic\",\n    color = \"brown\"\n  )\n\np_hilite\n\n\n\n\n\n\n\n\n\nDrill Down\nI must know more about them\n\nexpVsource_outliers &lt;- strip_tib %&gt;%\n  mutate(expertise = as.integer(expertise)) %&gt;%\n  select(-submission_id) %&gt;% \n  filter(expertise == 10) %&gt;%\n  filter(str_detect(know_source, \"no\"))\n\n\nkable(expVsource_outliers, \"html\") %&gt;%\n  kable_styling() %&gt;%\n  row_spec(0, bold = TRUE, color = brew_colors[1], background = \"brown\") %&gt;%\n  row_spec(1:nrow(expVsource_outliers), color = brew_colors[6], background = brew_colors[1])\n\n\n\n\n\nage\ncups\nfavorite\nstyle\nstrength\nroast_level\ncaffeine\nexpertise\nwfh\nmonthly_expenditure\ntaste\nknow_source\nmost_paid\nmost_willing\nvalue_cafe\nspent_equipment\nvalue_equipment\ngender\neducation_level\nethnicity_race\nemployment_status\nnumber_children\npolitical_affiliation\n\n\n\n\n18-24 years old\n2\namericano\ncaramalized\nvery strong\nlight\nfull caffeine\n10\ni primarily work from home\n&lt;$20\nyes\nno\n$6-$8\n$4-$6\nyes\n$100-$300\nyes\nfemale\nbachelor's degree\nasian/pacific islander\nemployed full-time\nnone\nno affiliation\n\n\n25-34 years old\n1\nregular drip coffee\nchocolatey\nsomewhat strong\ndark\nfull caffeine\n10\ni primarily work from home\n$40-$60\nyes\nno\n$10-$15\n$15-$20\nyes\n$20-$50\nyes\nfemale\nbachelor's degree\nasian/pacific islander\nemployed full-time\nnone\nno affiliation\n\n\n18-24 years old\n1\nlatte\nchocolatey\nvery strong\nmedium\nfull caffeine\n10\ni primarily work in person\n$60-$80\nyes\nno\n$6-$8\n$6-$8\nyes\n$50-$100\nyes\nfemale\nbachelor's degree\nasian/pacific islander\nemployed full-time\nnone\nindependent\n\n\n25-34 years old\n1\npourover\nchocolatey\nsomewhat strong\ndark\nfull caffeine\n10\ni primarily work from home\n&lt;$20\nyes\nno\n$8-$10\n$10-$15\nyes\n$300-$500\nyes\nmale\nbachelor's degree\nwhite/caucasian\nemployed full-time\nnone\nindependent\n\n\n\n\n\n\n\n\n\n\nResponsible Analysis\nLet’s remind ourselves that we left sound analysis practices behind at this point. We are simply having fun. These are outliers and ZERO conclusions can be drawn from digging into their data. So lets just stop here.",
    "crumbs": [
      "Tidy Tuesday 2024",
      "20"
    ]
  }
]